# **游戏初始化**

* 1.该类封装了一系列函数，都是类方法和静态方法，可以直接拿该类调用函数。其中最重要函数的是设置数据函数，游戏开始时在任意位置设置2或者4，移动合并后的矩阵在任意0元素位置添加2或者4。下面函数中的`Matrix`是初始化构造出的4\*4的0矩阵。`Matrix = numpy.zreos([Size,Size])`
  ![](/assets/initData.png)
   该函数有两个默认参数`matrix`和`zerolist`，初始化矩阵时调用这个函数不需要传入这两个参数。移动完成后的矩阵会调用这个函数，传入`matrix`和`zerolist`参数。

* 2.获得随机数的位置，同样也有一个默认参数为`zerolist=None`

  ![](/assets/random.png)


因为初始化时没有传入`zerolist`参数，因此a,b为`(0,3)`之间的随机整数。移动后的矩阵传入`zerolist`参数，记住之前我们往`zerolist`添加的都是`tuple`对象。`sample`函数取出存在`zerolist`中的任意一个元素，取出仍然是个`list`对象，例如取出就是`[(0,3)]`，因此加后面的`[0]`取出的结果就是`(0,3)`。

* 3.返回随机数2或者4

  ![](/assets/new.png)

* 4.描绘标题和描绘方块数字函数。我给每种不同数字的方块定义了不同的颜色，放在一个字典中。

  ![](/assets/data.png)
  描绘标题函数,内部调用了描绘方块函数

  ![](/assets/surface.png)
  描绘方块函数

  ![](/assets/block.png)

* 5.主函数的键盘按下会调用这个函数，根据移动方向创建不同对象，然后通过这个对象调用这个类的`handleData`函数。

  ![](/assets/key.png)

* 6.判断游戏是否结束函数,矩阵最小值不为0且每行每列相邻数不相同

  ![](/assets/gameover.png)


